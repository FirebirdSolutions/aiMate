@* Mobile-first responsive Documents Admin Tab *@

<div class="space-y-6 md:space-y-8">

    @* Section: Content Extraction *@
    <div>
        <h3 class="text-base md:text-lg font-semibold text-white mb-4">Content Extraction</h3>

        <div class="space-y-4">
            @* Content Extraction Engine *@
            <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                <label class="block text-sm font-medium text-white mb-2">Content Extraction Engine</label>
                <select @bind="contentExtractionEngine" class="w-full bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="default">Default</option>
                    <option value="advanced">Advanced</option>
                    <option value="custom">Custom</option>
                </select>
            </div>

            @* PDF Extract Images Toggle *@
            <div class="flex items-center justify-between p-4 bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg">
                <div class="flex-1">
                    <div class="text-sm font-medium text-white">PDF Extract Images</div>
                    <div class="text-xs text-gray-400 mt-1">Extract and process images from PDF documents</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" @bind="pdfExtractImages" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                </label>
            </div>

            @* Bypass Embedding Toggle *@
            <div class="flex items-center justify-between p-4 bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg">
                <div class="flex-1">
                    <div class="text-sm font-medium text-white">Bypass Embedding</div>
                    <div class="text-xs text-gray-400 mt-1">Skip embedding generation for faster processing</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" @bind="bypassEmbedding" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                </label>
            </div>
        </div>
    </div>

    @* Section: Text Splitting *@
    <div>
        <h3 class="text-base md:text-lg font-semibold text-white mb-4">Text Splitting</h3>

        <div class="space-y-4">
            @* Text Splitter *@
            <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                <label class="block text-sm font-medium text-white mb-2">Text Splitter</label>
                <select @bind="textSplitter" class="w-full bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="recursive">Recursive Character</option>
                    <option value="semantic">Semantic</option>
                    <option value="token">Token-based</option>
                </select>
            </div>

            @* Chunk Size and Overlap *@
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                    <label class="block text-sm font-medium text-white mb-2">Chunk Size</label>
                    <input type="number"
                           @bind="chunkSize"
                           class="w-full bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"
                           placeholder="1500" />
                </div>

                <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                    <label class="block text-sm font-medium text-white mb-2">Chunk Overlap</label>
                    <input type="number"
                           @bind="chunkOverlap"
                           class="w-full bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"
                           placeholder="100" />
                </div>
            </div>
        </div>
    </div>

    @* Section: Embedding Model *@
    <div>
        <h3 class="text-base md:text-lg font-semibold text-white mb-4">Embedding Model</h3>

        <div class="space-y-4">
            @* Embedding Model Engine *@
            <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                <label class="block text-sm font-medium text-white mb-2">Embedding Model Engine</label>
                <select @bind="embeddingEngine" class="w-full bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="default">Default</option>
                    <option value="openai">OpenAI</option>
                    <option value="huggingface">HuggingFace</option>
                </select>
            </div>

            @* Embedding Model *@
            <div class="bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg p-4">
                <label class="block text-sm font-medium text-white mb-2">Embedding Model</label>
                <div class="flex items-center gap-2">
                    <input type="text"
                           @bind="embeddingModel"
                           class="flex-1 bg-[#1A1A1A] border border-[#2A2A2A] text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"
                           placeholder="sentence-transformers/all-MiniLM-L6-v2" />
                    <button class="p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-lg transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    @* Section: Query Settings *@
    <div>
        <h3 class="text-base md:text-lg font-semibold text-white mb-4">Query Settings</h3>

        <div class="flex items-center justify-between p-4 bg-[#0F0F0F] border border-[#2A2A2A] rounded-lg">
            <div class="flex-1">
                <div class="text-sm font-medium text-white">Full Context Mode</div>
                <div class="text-xs text-gray-400 mt-1">Use complete document context for queries</div>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
                <input type="checkbox" @bind="fullContextMode" class="sr-only peer">
                <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
            </label>
        </div>
    </div>

</div>

@code {
    private string contentExtractionEngine = "default";
    private bool pdfExtractImages = false;
    private bool bypassEmbedding = false;
    private string textSplitter = "recursive";
    private int chunkSize = 1500;
    private int chunkOverlap = 100;
    private string embeddingEngine = "default";
    private string embeddingModel = "sentence-transformers/all-MiniLM-L6-v2";
    private bool fullContextMode = false;
}
